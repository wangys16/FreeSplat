dataset:
  view_sampler:
    name: evaluation
    index_path: assets/evaluation_index_scannet.json
    num_context_views: 3
  name: scannet
  roots:
  - /home/wang/ssd/scannet/scannet_surn/scannet
  make_baseline_1: false
  augment: true
  image_shape:
  - 384
  - 512
  background_color:
  - 0.0
  - 0.0
  - 0.0
  cameras_are_circular: false
  baseline_epsilon: 0.001
  max_fov: 100.0
  use_depth: true
  overfit_to_scene: null
  near: 0.5
  far: 15.0
model:
  encoder:
    backbone:
      name: efficientnet
      model: efficientnet
      d_out: 512
      resnet_name: resunet
    name: epipolar
    opacity_mapping:
      initial: 0.0
      final: 0.0
      warm_up: 1
    num_monocular_samples: 32
    num_surfaces: 1
    predict_opacity: false
    near_disparity: 3.0
    gaussians_per_pixel: 3
    gaussian_adapter:
      gaussian_scale_min: 0.5
      gaussian_scale_max: 15.0
      sh_degree: 2
      depth_sup: true
    d_feature: 128
    epipolar_transformer:
      self_attention:
        patch_size: 4
        num_octaves: 10
        num_layers: 2
        num_heads: 4
        d_token: 128
        d_dot: 128
        d_mlp: 256
      num_octaves: 10
      num_layers: 2
      num_heads: 4
      num_samples: 32
      d_dot: 128
      d_mlp: 256
      downscale: 4
    visualizer:
      num_samples: 8
      min_resolution: 256
      export_ply: false
    apply_bounds_shim: true
    use_epipolar_transformer: false
    use_transmittance: false
    use_depth: false
    est_depth: cost
    unimatch_weights_path: checkpoints/gmdepth-scale1-resumeflowthings-scannet-5d9d7964.pth
    multiview_trans_attn_split: 2
    costvolume_unet_feat_dim: 128
    costvolume_unet_channel_mult:
    - 1
    - 1
    - 1
    costvolume_unet_attn_res: []
    depth_unet_feat_dim: 64
    depth_unet_attn_res: []
    depth_unet_channel_mult:
    - 1
    - 1
    - 1
    downscale_factor: 4
    shim_patch_size: 4
    wo_depth_refine: false
    wo_cost_volume: false
    wo_backbone_cross_attn: false
    wo_cost_volume_refine: false
    use_epipolar_trans: false
    n_levels: -1
    num_views: 3
    fusion: false
    num_depth_candidates: 128
  decoder:
    name: splatting_cuda
loss:
  mse:
    weight: 1.0
  lpips:
    weight: 0.05
    apply_after_step: 0
output_dir: test_3views_new_woptf
wandb:
  project: pixelsplat
  entity: wangys10272910
  name: scannet
  mode: offline
  tags:
  - scannet
  - 384x512
mode: test
data_loader:
  train:
    num_workers: 16
    persistent_workers: true
    batch_size: 1
    seed: 1234
  test:
    num_workers: 4
    persistent_workers: false
    batch_size: 1
    seed: 2345
  val:
    num_workers: 1
    persistent_workers: true
    batch_size: 1
    seed: 3456
optimizer:
  lr: 0.0001
  warm_up_steps: 100
  cosine_lr: true
checkpointing:
  load: checkpoints/ablation/3views_woptf.ckpt
  every_n_train_steps: 10000
  save_top_k: -1
train:
  use_depth: null
  depth_mode: depth
  extended_visualization: false
  depth_sup: true
test:
  output_path: outputs/test
seed: 111123
strict: true
trainer:
  max_steps: 300001
  val_check_interval: 5000
  gradient_clip_val: 0.01
  prog_bar: true
